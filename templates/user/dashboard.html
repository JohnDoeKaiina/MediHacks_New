{% extends 'base.html' %} {% include 'base.html' %} {% load static %} {% block content %}
<div class="container">
   <div class="bottom-container">
      <div class="bottom-container__right">
         <div class="box">
            <img src="{{ MEDIA_URL }}/qrcodes/{{username}}.png" alt="User QR Code">
      
            <div class="button-box">
               Medical info
               <div class="div">        <a href="{% url 'health_info' %}" class="btn btn-purple">
                  <span>Add </span>
                  </a>
                  <a href="{% url 'view_health_info' %}" class="btn btn-purple">
                  <span>View</span>
                  </a>
               </div>
               <br>
               <div class="">
                  Emergency contact <br>
                  <a href="{% url 'emergency_contact' %}" class="btn btn-blue">
                  <span>Add </span>
                  </a>
                  <a href="{% url 'view_emergency_contact' %}" class="btn btn-blue">
                  <span>View</span>
                  </a>
               </div>
            </div>
         </div>
         <div class="box spending-box">
            <div class="header-container">
               <h3 class="section-header">Vitals info</h3>
               <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M5 10.4166C3.9 10.4166 3 11.3541 3 12.5C3 13.6458 3.9 14.5833 5 14.5833C6.1 14.5833 7 13.6458 7 12.5C7 11.3541 6.1 10.4166 5 10.4166Z" stroke="#1A202C" stroke-width="1.5"/>
                  <path d="M19 10.4166C17.9 10.4166 17 11.3541 17 12.5C17 13.6458 17.9 14.5833 19 14.5833C20.1 14.5833 21 13.6458 21 12.5C21 11.3541 20.1 10.4166 19 10.4166Z" stroke="#1A202C" stroke-width="1.5"/>
                  <path d="M12 10.4166C10.9 10.4166 10 11.3541 10 12.5C10 13.6458 10.9 14.5833 12 14.5833C13.1 14.5833 14 13.6458 14 12.5C14 11.3541 13.1 10.4166 12 10.4166Z" stroke="#1A202C" stroke-width="1.5"/>
               </svg>
            </div>
            <div class="pie-chart__labels">
               <div class="pie-chart__labels-item">
                  <div class="label">
                     <div class="label__color first"></div>
                     Blood Pressure:
                  </div>
                  110/70 mmHg
               </div>
               <div class="pie-chart__labels-item">
                  <div class="label">
                     <div class="label__color second"></div>
                     Heart Rate 
                  </div>
                  98 bpm
               </div>
               <div class="pie-chart__labels-item">
                  <div class="label">
                     <div class="label__color third"></div>
                     Temperature
                  </div>
                  98.6Â°F 
               </div>
               <div class="pie-chart__labels-item">
                  <div class="label">
                     <div class="label__color fourth"></div>
                     Oxygen Saturation
                  </div>
                  98%
               </div>
               <div class="pie-chart__labels-item">
                  <div class="label">
                     <div class="label__color fifth"></div>
                     Body Mass Index
                  </div>
                  23.2
               </div>
            </div>
         </div>
      </div>
      <div class="bottom-container__left">
         <div class="box total-box">
            <h1 class="heading-dashboard">Welcome <br> {{username}}</span></h1>
         </div>
         <div class="box transaction-box">
            <div class="header-container">
               <h3 class="section-header">Prescription details</h3>
               <a href="{% url 'view_emergency_contact' %}" class="btn btn-purple">
                  <span>+</span>
                  </a>
            </div>
       <!-- prescription_list.html -->

    <table class="transaction-history">
        <tr>
            <th>Medicine name</th>
            <th>
                Time
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.96004 4.47498L6.70004 7.73498C6.31504 8.11998 5.68504 8.11998 5.30004 7.73498L2.04004 4.47498" stroke="#90A3BF" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </th>
            <th>
                Quantity
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.96004 4.47498L6.70004 7.73498C6.31504 8.11998 5.68504 8.11998 5.30004 7.73498L2.04004 4.47498" stroke="#90A3BF" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </th>
            <th>
                Status
                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.96004 4.47498L6.70004 7.73498C6.31504 8.11998 5.68504 8.11998 5.30004 7.73498L2.04004 4.47498" stroke="#90A3BF" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </th>
        </tr>
        
        <!-- Loop over prescriptions -->
        {% for prescription in prescriptions %}
        <tr>
            <td>{{ prescription.medicinename }}</td>
            <td>{{ prescription.days }} days at {{ prescription.time }}</td>
            <td>{{ prescription.quantity }}</td>
            <td>
               <td>
                  {% if prescription.status == 'Completed' %}
                  <svg class="status" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <rect width="16" height="16" rx="8" fill="#BCE455" fill-opacity="0.3"/>
                      <circle cx="8" cy="8" r="4" fill="#7FB519"/>
                  </svg>
                  Completed
                  {% elif prescription.status == 'Pending' %}
                  <svg class="status" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <rect width="16" height="16" rx="8" fill="#DBA32A" fill-opacity="0.14"/>
                      <circle cx="8" cy="8" r="4" fill="#DBA32A"/>
                  </svg>
                  Pending
                  {% elif prescription.status == 'Yet to start' %}
                  <svg class="status" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <rect width="16" height="16" rx="8" fill="#DB2719" fill-opacity="0.3"/>
                     <circle cx="8" cy="8" r="4" fill="#DB2719"/>
                  </svg>
                  Yet to start
                  
    
          
                  {% endif %}
              </td>
         
            </td>
        </tr>
        {% endfor %}
    </table>


         </div>
      </div>
   </div>
</div>
<br><br><br> {% endblock %}